<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete URL Pattern Tests - Academic Explorer</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            max-width: 1200px; 
            margin: 0 auto; 
            background: #f5f5f5;
        }
        .test-section { 
            margin: 20px 0; 
            padding: 20px; 
            border: 2px solid #ddd; 
            border-radius: 8px; 
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-case { 
            margin: 10px 0; 
            padding: 12px; 
            border: 1px solid #eee; 
            border-radius: 5px; 
            background: #f9f9f9; 
        }
        .url { 
            font-family: 'Courier New', monospace; 
            background: #fff; 
            padding: 8px; 
            border: 1px solid #ccc; 
            border-radius: 3px; 
            word-break: break-all; 
            margin: 5px 0; 
            font-size: 12px;
        }
        .test-link { 
            display: inline-block; 
            margin: 5px 10px 5px 0; 
            padding: 8px 15px; 
            background: #007bff; 
            color: white; 
            text-decoration: none; 
            border-radius: 5px; 
            font-weight: bold; 
            font-size: 12px;
        }
        .test-link:hover { background: #0056b3; }
        .expected { color: #28a745; font-weight: bold; }
        .description { color: #666; font-style: italic; margin: 5px 0; }
        h1 { color: #333; text-align: center; }
        h2 { color: #dc3545; margin-top: 0; border-bottom: 2px solid #dc3545; padding-bottom: 5px; }
        h3 { color: #6f42c1; margin-top: 15px; }
        .server-info { 
            background: #e7f3ff; 
            border: 1px solid #bee5eb; 
            padding: 15px; 
            border-radius: 5px; 
            margin-bottom: 20px;
        }
        .working { background-color: #d4edda; border-color: #c3e6cb; }
        .problematic { background-color: #f8d7da; border-color: #f5c6cb; }
        .encoded { background-color: #fff3cd; border-color: #ffeeba; }
    </style>
</head>
<body>
    <h1>Complete URL Pattern Tests for Academic Explorer</h1>
    
    <div class="server-info">
        <strong>Development Server:</strong> http://localhost:3003<br>
        <strong>Expected Result:</strong> All patterns should redirect to <code>/#/authors/A5017898742</code><br>
        <strong>Test Instructions:</strong> Click each test link and verify it redirects correctly to the canonical author page.
    </div>

    <!-- Your Original Requested Patterns -->
    <div class="test-section working">
        <h2>‚úÖ Original Requested Patterns (Should Work)</h2>
        
        <div class="test-case">
            <h3>1. Numeric Author ID (assuming author)</h3>
            <div class="description">Raw numeric ID - routes assume this is an author and add A prefix</div>
            <div class="url">http://localhost:3003/#/5017898742</div>
            <a class="test-link" href="http://localhost:3003/#/5017898742" target="_blank">Test /#/5017898742</a>
        </div>

        <div class="test-case">
            <h3>2. Authors Route with OpenAlex URL</h3>
            <div class="description">Full OpenAlex URL in authors route (needs URL encoding)</div>
            <div class="url">http://localhost:3003/#/authors/https%3A%2F%2Fopenalex.org%2FA5017898742</div>
            <a class="test-link" href="http://localhost:3003/#/authors/https%3A%2F%2Fopenalex.org%2FA5017898742" target="_blank">Test Authors + Encoded OpenAlex</a>
        </div>

        <div class="test-case">
            <h3>3. Authors Route with Alternative OpenAlex URL</h3>
            <div class="description">Alternative OpenAlex URL pattern (needs URL encoding)</div>
            <div class="url">http://localhost:3003/#/authors/https%3A%2F%2Fopenalex.org%2Fauthors%2FA5017898742</div>
            <a class="test-link" href="http://localhost:3003/#/authors/https%3A%2F%2Fopenalex.org%2Fauthors%2FA5017898742" target="_blank">Test Authors + Alt OpenAlex</a>
        </div>

        <div class="test-case">
            <h3>4. Bare OpenAlex ID</h3>
            <div class="description">Direct OpenAlex ID with prefix</div>
            <div class="url">http://localhost:3003/#/A5017898742</div>
            <a class="test-link" href="http://localhost:3003/#/A5017898742" target="_blank">Test /#/A5017898742</a>
        </div>

        <div class="test-case">
            <h3>5. Authors Route with ORCID URL</h3>
            <div class="description">Full ORCID URL in authors route (needs URL encoding)</div>
            <div class="url">http://localhost:3003/#/authors/https%3A%2F%2Forcid.org%2F0000-0003-1613-5981</div>
            <a class="test-link" href="http://localhost:3003/#/authors/https%3A%2F%2Forcid.org%2F0000-0003-1613-5981" target="_blank">Test Authors + Encoded ORCID</a>
        </div>

        <div class="test-case">
            <h3>6. Authors Route with ORCID ID</h3>
            <div class="description">Bare ORCID ID in authors route</div>
            <div class="url">http://localhost:3003/#/authors/0000-0003-1613-5981</div>
            <a class="test-link" href="http://localhost:3003/#/authors/0000-0003-1613-5981" target="_blank">Test Authors + ORCID ID</a>
        </div>
    </div>

    <!-- Fixed Hash Routing Issues -->
    <div class="test-section working">
        <h2>‚úÖ Fixed Hash Routing Patterns (Now Working)</h2>
        
        <div class="test-case">
            <h3>7. Raw HTTPS URL (Fixed with new https$ route)</h3>
            <div class="description">Raw HTTPS URL - now handled by special https$ route</div>
            <div class="url">http://localhost:3003/#/https://openalex.org/A5017898742</div>
            <a class="test-link" href="http://localhost:3003/#/https://openalex.org/A5017898742" target="_blank">Test Raw HTTPS URL</a>
        </div>

        <div class="test-case">
            <h3>8. Raw HTTPS Alternative URL</h3>
            <div class="description">Alternative HTTPS URL pattern - also handled by https$ route</div>
            <div class="url">http://localhost:3003/#/https://openalex.org/authors/A5017898742</div>
            <a class="test-link" href="http://localhost:3003/#/https://openalex.org/authors/A5017898742" target="_blank">Test Alt HTTPS URL</a>
        </div>

        <div class="test-case">
            <h3>9. Raw ORCID HTTPS URL</h3>
            <div class="description">Raw ORCID HTTPS URL - handled by https$ route</div>
            <div class="url">http://localhost:3003/#/https://orcid.org/0000-0003-1613-5981</div>
            <a class="test-link" href="http://localhost:3003/#/https://orcid.org/0000-0003-1613-5981" target="_blank">Test Raw ORCID HTTPS</a>
        </div>
    </div>

    <!-- Additional Patterns for Completeness -->
    <div class="test-section working">
        <h2>üîß Additional Supported Patterns</h2>
        
        <div class="test-case">
            <h3>10. Direct Author Route (Canonical)</h3>
            <div class="description">The canonical URL pattern - what everything redirects to</div>
            <div class="url">http://localhost:3003/#/authors/A5017898742</div>
            <a class="test-link" href="http://localhost:3003/#/authors/A5017898742" target="_blank">Test Canonical URL</a>
        </div>

        <div class="test-case">
            <h3>11. Bare ORCID ID</h3>
            <div class="description">Bare ORCID at root level - should redirect to authors</div>
            <div class="url">http://localhost:3003/#/0000-0003-1613-5981</div>
            <a class="test-link" href="http://localhost:3003/#/0000-0003-1613-5981" target="_blank">Test Bare ORCID</a>
        </div>
    </div>

    <!-- Cross-Entity Type Tests -->
    <div class="test-section working">
        <h2>üåê Cross-Entity Type Tests</h2>
        <div class="description">Testing that the system correctly redirects to other entity types when appropriate</div>
        
        <div class="test-case">
            <h3>12. Work (Paper) ID</h3>
            <div class="description">Should redirect to /works/ route</div>
            <div class="url">http://localhost:3003/#/W2741809807</div>
            <a class="test-link" href="http://localhost:3003/#/W2741809807" target="_blank">Test Work ID</a>
            <div class="expected">Expected: /#/works/W2741809807</div>
        </div>

        <div class="test-case">
            <h3>13. Source (Journal) ID</h3>
            <div class="description">Should redirect to /sources/ route</div>
            <div class="url">http://localhost:3003/#/S123456789</div>
            <a class="test-link" href="http://localhost:3003/#/S123456789" target="_blank">Test Source ID</a>
            <div class="expected">Expected: /#/sources/S123456789</div>
        </div>

        <div class="test-case">
            <h3>14. Institution ID</h3>
            <div class="description">Should redirect to /institutions/ route</div>
            <div class="url">http://localhost:3003/#/I123456789</div>
            <a class="test-link" href="http://localhost:3003/#/I123456789" target="_blank">Test Institution ID</a>
            <div class="expected">Expected: /#/institutions/I123456789</div>
        </div>

        <div class="test-case">
            <h3>15. Wrong Entity in Authors Route</h3>
            <div class="description">Work ID in authors route - should redirect to correct entity type</div>
            <div class="url">http://localhost:3003/#/authors/W2741809807</div>
            <a class="test-link" href="http://localhost:3003/#/authors/W2741809807" target="_blank">Test Wrong Entity</a>
            <div class="expected">Expected: /#/works/W2741809807</div>
        </div>
    </div>

    <script>
        // Show URL encoding examples in console
        console.log('=== URL Encoding Reference ===');
        console.log('Raw OpenAlex:', 'https://openalex.org/A5017898742');
        console.log('Encoded:', encodeURIComponent('https://openalex.org/A5017898742'));
        console.log('Raw ORCID:', 'https://orcid.org/0000-0003-1613-5981');
        console.log('Encoded ORCID:', encodeURIComponent('https://orcid.org/0000-0003-1613-5981'));
        console.log('Raw Alt OpenAlex:', 'https://openalex.org/authors/A5017898742');
        console.log('Encoded Alt:', encodeURIComponent('https://openalex.org/authors/A5017898742'));
        
        console.log('\n=== Testing Instructions ===');
        console.log('1. Click each test link in a new tab');
        console.log('2. Verify it redirects to the expected canonical URL');
        console.log('3. Check browser console for routing debug messages');
        console.log('4. All author-related patterns should end up at /#/authors/A5017898742');
    </script>
</body>
</html>